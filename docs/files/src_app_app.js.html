<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>src/app/app.js - ozpwebtop</title>
    <link rel="stylesheet" href="">
    <link rel="stylesheet" href="../assets/vendor/prettify/prettify-min.css">
    <link rel="stylesheet" href="../assets/css/main.css" id="site_styles">
    <link rel="stylesheet" href="../assets/css/custom.css">
    <link rel="stylesheet" href="../assets/vendor/bootstrap/css/bootstrap.css">
    <link rel="shortcut icon" type="image/png" href="../assets/favicon.png">
</head>
<body class="yui3-skin-sam">
<div class="navbar navbar-fixed-top">
    <div class="navbar-inner">
        <h1 class="brand" style="padding: 10px 16px 10px; height: 20px; line-height: 20px; margin-left: 0;">
        
	    <img alt="ozpwebtop" src="../assets/css/logo.png" style="max-height: 65%;" title="ozpwebtop">
        
            ozpwebtop
        </h1>
	<div class="nav">
            <li class="divider-vertical"></li>
            <li>
                <p class="navbar-text">
                    API Docs for Version: <b>0.4.0</b>
                </p>
            </li>
        </div>
        <form class="navbar-form pull-right" style="line-height: 40px; height: 40px;">
            <input style="margin-top: 0;" type="text" class="search-query" placeholder="Search for classes/modules..." data-obj='["classes/appToolbar.ApplicationToolbarCtrl", "classes/appToolbar.appToolbar", "classes/constants", "classes/dashboardView.ChromeCtrl", "classes/dashboardView.DashboardViewCtrl", "classes/dashboardView.DesktopCtrl", "classes/dashboardView.GridCtrl", "classes/dashboardView.ozpButton", "classes/dashboardView.ozpChrome", "classes/dashboardView.ozpManagedFrame", "classes/models.models", "classes/ozp.common.elliptical", "classes/ozp.common.iwc.iwcConnectedClient", "classes/ozp.common.Utilities", "classes/ozp.common.windowSizeWatcher", "classes/ozpToolbar.ozpToolbar", "classes/ozpToolbar.OzpToolbarCtrl", "classes/services.iwcInterface", "classes/services.restInterface", "classes/urlWidgetLauncher.UrlWidgetLauncherCtrl", "modules/ozp.common.ellipticalFilter", "modules/ozp.common.iwc.client", "modules/ozp.common.utilities", "modules/ozp.common.windowSizeWatcher", "modules/ozpWebtop", "modules/ozpWebtop.addApplicationsModal", "modules/ozpWebtop.appToolbar", "modules/ozpWebtop.constants", "modules/ozpWebtop.dashboardView", "modules/ozpWebtop.dashboardView.button", "modules/ozpWebtop.dashboardView.chrome", "modules/ozpWebtop.dashboardView.desktop", "modules/ozpWebtop.dashboardView.desktop.managedFrame", "modules/ozpWebtop.dashboardView.grid", "modules/ozpWebtop.editDashboardModal", "modules/ozpWebtop.models", "modules/ozpWebtop.ozpToolbar", "modules/ozpWebtop.services.iwcInterface", "modules/ozpWebtop.services.restInterface", "modules/ozpWebtop.urlWidgetLauncher"]'>
        </form>
    </div>
</div>
<div class="container">
    <div class="row">
        <div class="span3">
	    <div>
    <h3>APIs</h3>
    <div id="sidebar">
        <ul id="main-nav" class="nav nav-tabs" style="margin-bottom:0;">
            <li class="active"><a href="#classes" data-toggle="tab">Classes</a></li>
            <li><a href="#modules" data-toggle="tab">Modules</a></li>
        </ul>

        <div id="api-tabview-filter">
            <input type="search" placeholder="Type to filter APIs">
        </div>

        <div class="tab-content" style="border: 1px solid #DDD; border-top:0;">
            <div class="tab-pane active" id="classes">
                <ul id="api-classes" class="nav nav-list">
                    
                        <li><a href="../classes/appToolbar.ApplicationToolbarCtrl.html">appToolbar.ApplicationToolbarCtrl</a></li>
                    
                        <li><a href="../classes/appToolbar.appToolbar.html">appToolbar.appToolbar</a></li>
                    
                        <li><a href="../classes/constants.html">constants</a></li>
                    
                        <li><a href="../classes/dashboardView.ChromeCtrl.html">dashboardView.ChromeCtrl</a></li>
                    
                        <li><a href="../classes/dashboardView.DashboardViewCtrl.html">dashboardView.DashboardViewCtrl</a></li>
                    
                        <li><a href="../classes/dashboardView.DesktopCtrl.html">dashboardView.DesktopCtrl</a></li>
                    
                        <li><a href="../classes/dashboardView.GridCtrl.html">dashboardView.GridCtrl</a></li>
                    
                        <li><a href="../classes/dashboardView.ozpButton.html">dashboardView.ozpButton</a></li>
                    
                        <li><a href="../classes/dashboardView.ozpChrome.html">dashboardView.ozpChrome</a></li>
                    
                        <li><a href="../classes/dashboardView.ozpManagedFrame.html">dashboardView.ozpManagedFrame</a></li>
                    
                        <li><a href="../classes/models.models.html">models.models</a></li>
                    
                        <li><a href="../classes/ozp.common.elliptical.html">ozp.common.elliptical</a></li>
                    
                        <li><a href="../classes/ozp.common.iwc.iwcConnectedClient.html">ozp.common.iwc.iwcConnectedClient</a></li>
                    
                        <li><a href="../classes/ozp.common.Utilities.html">ozp.common.Utilities</a></li>
                    
                        <li><a href="../classes/ozp.common.windowSizeWatcher.html">ozp.common.windowSizeWatcher</a></li>
                    
                        <li><a href="../classes/ozpToolbar.ozpToolbar.html">ozpToolbar.ozpToolbar</a></li>
                    
                        <li><a href="../classes/ozpToolbar.OzpToolbarCtrl.html">ozpToolbar.OzpToolbarCtrl</a></li>
                    
                        <li><a href="../classes/services.iwcInterface.html">services.iwcInterface</a></li>
                    
                        <li><a href="../classes/services.restInterface.html">services.restInterface</a></li>
                    
                        <li><a href="../classes/urlWidgetLauncher.UrlWidgetLauncherCtrl.html">urlWidgetLauncher.UrlWidgetLauncherCtrl</a></li>
                    
                </ul>
            </div>

            <div class="tab-pane" id="modules">
                <ul id="api-modules" class="nav nav-list">
                    
                        <li><a href="../modules/ozp.common.ellipticalFilter.html">ozp.common.ellipticalFilter</a></li>
                    
                        <li><a href="../modules/ozp.common.iwc.client.html">ozp.common.iwc.client</a></li>
                    
                        <li><a href="../modules/ozp.common.utilities.html">ozp.common.utilities</a></li>
                    
                        <li><a href="../modules/ozp.common.windowSizeWatcher.html">ozp.common.windowSizeWatcher</a></li>
                    
                        <li><a href="../modules/ozpWebtop.html">ozpWebtop</a></li>
                    
                        <li><a href="../modules/ozpWebtop.addApplicationsModal.html">ozpWebtop.addApplicationsModal</a></li>
                    
                        <li><a href="../modules/ozpWebtop.appToolbar.html">ozpWebtop.appToolbar</a></li>
                    
                        <li><a href="../modules/ozpWebtop.constants.html">ozpWebtop.constants</a></li>
                    
                        <li><a href="../modules/ozpWebtop.dashboardView.html">ozpWebtop.dashboardView</a></li>
                    
                        <li><a href="../modules/ozpWebtop.dashboardView.button.html">ozpWebtop.dashboardView.button</a></li>
                    
                        <li><a href="../modules/ozpWebtop.dashboardView.chrome.html">ozpWebtop.dashboardView.chrome</a></li>
                    
                        <li><a href="../modules/ozpWebtop.dashboardView.desktop.html">ozpWebtop.dashboardView.desktop</a></li>
                    
                        <li><a href="../modules/ozpWebtop.dashboardView.desktop.managedFrame.html">ozpWebtop.dashboardView.desktop.managedFrame</a></li>
                    
                        <li><a href="../modules/ozpWebtop.dashboardView.grid.html">ozpWebtop.dashboardView.grid</a></li>
                    
                        <li><a href="../modules/ozpWebtop.editDashboardModal.html">ozpWebtop.editDashboardModal</a></li>
                    
                        <li><a href="../modules/ozpWebtop.models.html">ozpWebtop.models</a></li>
                    
                        <li><a href="../modules/ozpWebtop.ozpToolbar.html">ozpWebtop.ozpToolbar</a></li>
                    
                        <li><a href="../modules/ozpWebtop.services.iwcInterface.html">ozpWebtop.services.iwcInterface</a></li>
                    
                        <li><a href="../modules/ozpWebtop.services.restInterface.html">ozpWebtop.services.restInterface</a></li>
                    
                        <li><a href="../modules/ozpWebtop.urlWidgetLauncher.html">ozpWebtop.urlWidgetLauncher</a></li>
                    
                </ul>
            </div>
        </div>
    </div>
</div>

        </div>
        <div class="span9">
                <form id="options-form" class="form-inline pull-right">
        Show:
        <label for="api-show-inherited" class="checkbox">
            <input type="checkbox" id="api-show-inherited" checked>
            Inherited
        </label>

        <label for="api-show-protected" class="checkbox">
            <input type="checkbox" id="api-show-protected">
            Protected
        </label>

        <label for="api-show-private" class="checkbox">
            <input type="checkbox" id="api-show-private">
            Private
        </label>
        <label for="api-show-deprecated" class="checkbox">
            <input type="checkbox" id="api-show-deprecated">
            Deprecated
        </label>

    </form>


            <div class="apidocs">
                <div id="docs-main">
                    <div class="content">
                        <div class="page-header">
    <h1>src/app/app.js <small>File</small></h1>
</div>

<div class="file">
    <pre class="prettyprint linenums">
&#x27;use strict&#x27;;

/**
 * Top level module of the Webtop. When declared in an HTML file, it bootstraps
 * the Webtop.
 *
 * @example
 *     &lt;body ng-app=&quot;ozpWebtop&quot;&gt; ... &lt;/body&gt;
 *
 * @module ozpWebtop
 * @requires ozp.common.ellipticalFilter
 * @requires ozp.common.iwc.client
 * @requires ozp.common.utilities
 * @requires ozp.common.windowSizeWatcher
 * @requires ozpWebtop.constants
 * @requires ozpWebtop.services.iwcInterface
 * @requires ozpWebtop.services.restInterface
 * @requires ozpWebtop.models
 * @requires ozpWebtop.appToolbar
 * @requires ozpWebtop.ozpToolbar
 * @requires ozpWebtop.dashboardView.button
 * @requires ozpWebtop.dashboardView.chrome
 * @requires ozpWebtop.dashboardView.desktop
 * @requires ozpWebtop.dashboardView.desktop.managedFrame
 * * @requires ozpWebtop.dashboardView
 * @requires ozpWebtop.dashboardView.grid
 * @requires ozpWebtop.addApplicationsModal
 * @requires ozpWebtop.editDashboardModal
 * @requires ozpWebtop.urlWidgetLauncher
 * @requires ui.router
 * @requires ct.ui.router.extras
 * @requires ui.bootstrap
 * @requires gridster
 * @requires ozpIwcClient
 * @requires ozpClassification
 */
angular.module( &#x27;ozpWebtop&#x27;, [
  &#x27;ozp.common.ellipticalFilter&#x27;,
  &#x27;ozp.common.iwc.client&#x27;,
  &#x27;ozp.common.utilities&#x27;,
  &#x27;ozp.common.windowSizeWatcher&#x27;,
  &#x27;templates-app&#x27;,
  &#x27;templates-common&#x27;,
  &#x27;ozpWebtop.constants&#x27;,
  &#x27;ozpWebtop.services.iwcInterface&#x27;,
  &#x27;ozpWebtop.services.restInterface&#x27;,
  &#x27;ozpWebtop.models&#x27;,
  &#x27;ozpWebtop.appToolbar&#x27;,
  &#x27;ozpWebtop.ozpToolbar&#x27;,
  &#x27;ozpWebtop.dashboardView.button&#x27;,
  &#x27;ozpWebtop.dashboardView.chrome&#x27;,
  &#x27;ozpWebtop.dashboardView.desktop&#x27;,
  &#x27;ozpWebtop.dashboardView.desktop.managedFrame&#x27;,
  &#x27;ozpWebtop.dashboardView&#x27;,
  &#x27;ozpWebtop.dashboardView.grid&#x27;,
  &#x27;ozpWebtop.addApplicationsModal&#x27;,
  &#x27;ozpWebtop.editDashboardModal&#x27;,
  &#x27;ozpWebtop.urlWidgetLauncher&#x27;,
  &#x27;ui.router&#x27;,
  &#x27;ct.ui.router.extras&#x27;,
  &#x27;ui.bootstrap&#x27;,
  &#x27;gridster&#x27;,
  &#x27;ozpIwcClient&#x27;,
  &#x27;ozpClassification&#x27;
])

.config(function($stateProvider, $urlRouterProvider,
                 $logProvider, maxStickyBoards) {

    $logProvider.debugEnabled(true);

    /*
    To avoid losing the internal state of widgets as users switch between
    dashboards, we leverage the &#x27;sticky state&#x27; capabilities of ui-router-extras
    such that the DOMs for up to 10 grid layout and 10 desktop layout dashboards
    are not torn down as the user navigates between them.
    */
    var states = [];
    states.push({name: &#x27;dashboardview&#x27;, url: &#x27;/&#x27;,
      views: {
        &#x27;@&#x27;: {controller: &#x27;DashboardViewCtrl&#x27;,
          templateUrl: &#x27;dashboardView/dashboardView.tpl.html&#x27;}
    }});

    // Sticky views
    for (var slot=0; slot &lt; maxStickyBoards; slot++) {
      var gridViewName = &#x27;gridlayout-&#x27; + slot + &#x27;@dashboardview&#x27;;
      var desktopViewName = &#x27;desktoplayout-&#x27; + slot + &#x27;@dashboardview&#x27;;
      var gridState = {
        name: &#x27;dashboardview.grid-sticky-&#x27; + slot,
        url: &#x27;grid/sticky-&#x27; + slot + &#x27;/:dashboardId&#x27;,
        views: {},
        deepStateRedirect: true,
        sticky: true
      };
      gridState.views[gridViewName] = {controller: &#x27;GridCtrl&#x27;,
        templateUrl: &#x27;dashboardView/grid/grid.tpl.html&#x27;};

      states.push(gridState);

      var desktopState = {
        name: &#x27;dashboardview.desktop-sticky-&#x27; + slot,
        url: &#x27;desktop/sticky-&#x27; + slot + &#x27;/:dashboardId&#x27;,
        views: {},
        deepStateRedirect: true,
        sticky: true
      };
      desktopState.views[desktopViewName] = {controller: &#x27;DesktopCtrl&#x27;,
        templateUrl: &#x27;dashboardView/desktop/desktop.tpl.html&#x27;};

      states.push(desktopState);
    }

    /*
      This is a temporary solution to the problem of opening a widget in a
      dashboard from Center or HUD. Ultimately, this should be done using IWC
      Intents. This URL mechanism is not ideal for many reasons, not least of
      which is the fact that it will open and additonal webtop tab/window, and
      multiple webtop instances is not well supported
     */
    states.push({name: &#x27;url-launch-app&#x27;, url: &#x27;/launchApp/:appId&#x27;,
      controller: &#x27;UrlWidgetLauncherCtrl&#x27;});

    angular.forEach(states, function(state) { $stateProvider.state(state); });
    $urlRouterProvider.otherwise(&#x27;/&#x27;);
  })

.run( function run ($rootScope, $state, $http, $window, $log,
                    models, restInterface, useIwc, initialDataReceivedEvent) {

    $rootScope.$state = $state;

    // TODO: flag to optionally use IWC

    /*
      First, get Listing data for the apps/widgets that have been bookmarked by
      the user. Then retrieve their previous webtop data (if any). This is
      the only time we will go to the server (and wait for a response) for
      Listing data and/or webtop data
     */
    restInterface.getListings().then(function(listings) {
      models.setApplicationData(listings);
      restInterface.getWebtopData().then(function(webtopData) {
        if (webtopData) {
          models.setInitialWebtopData(webtopData);
          $log.info(&#x27;application listings and dashboard data retrieved - ready to start&#x27;);
          $rootScope.$broadcast(initialDataReceivedEvent);
        } else {
          $log.warn(&#x27;No dashboard data found. Creating default dashboard&#x27;);
          models.setInitialWebtopData({});
          $log.info(&#x27;application listings and dashboard data retrieved - ready to start&#x27;);
          $rootScope.$broadcast(initialDataReceivedEvent);
        }
      });
    });
});

    </pre>
</div>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="../assets/vendor/jquery/jquery-1.8.2.min.js"></script>
<script src="../assets/vendor/bootstrap/js/bootstrap.js"></script>
<script src="../assets/vendor/prettify/prettify-min.js"></script>
<script src="../assets/js/yuidoc-bootstrap.js"></script>
<script>prettyPrint();</script>
</body>
</html>
